
var testMap = "MyMap;4;0 100 0 40 100 0 80 100 0 c0 100 0 100 100 0 140 100 0 180 100 0 1c0 100 0 200 100 0 240 100 0 280 100 0 2c0 100 0 300 100 0 340 100 0 380 100 0 3c0 100 0 0 200 0 40 200 0 80 200 0 c0 200 0 100 200 0 140 200 0 180 200 0 1c0 200 0 200 200 0 240 200 0 280 200 0 2c0 200 0 300 200 0 340 200 0 380 200 0 3c0 200 0;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 MyMap;4;0 140 0 40 140 0 80 140 0 c0 140 0 100 140 0 140 140 0 200 140 0 240 140 0 280 140 0 2c0 140 0 300 140 0 340 140 0 380 140 0 3c0 140 0 240 100 0 240 c0 0 280 c0 0 280 100 0 300 c0 0 340 c0 0 340 100 0 300 100 0 2c0 80 0 0 240 0 40 240 0 80 240 0 c0 240 0 100 240 0 140 240 0 1c0 240 0 200 240 0 240 240 0 1c0 200 0 1c0 1c0 0 180 1c0 0 280 240 0 2c0 240 0 300 240 0 340 240 0 380 240 0 3c0 2c0 0 380 2c0 0 340 2c0 0 300 2c0 0 280 2c0 0 0 340 0 40 340 0 80 340 0 c0 340 0 100 340 0 140 340 0 180 340 0 1c0 340 0 200 340 0 240 340 0 280 340 0 2c0 340 0 300 340 0 340 340 0 380 340 0 3c0 340 0;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0";
function parseMapString(map)
{
    var X = [];
    var Y = [];
    var Sprites = [];
    var exportedMap = [];
    map = map.split(";")[2].split(" ");


    for (var i = 0; i < map.length; i+=3)
    {
        if (map[i])
        {
            X.push(parseInt(map[i], 16));
        }
    }
    for (var i = 1; i < map.length; i+=3)
    {
        if (map[i])
        {
            Y.push(parseInt(map[i], 16));
        }
    }
    for (var i = 2; i < map.length; i+=3)
    {
        if (map[i])
        {
            Sprites.push(DEFS[parseInt(map[i], 16)]);
        }
    }
    for (var i = 0; i < map.length/3; i++)
    {
        var spawnItem = new Torch.Platformer.SpawnItem(Sprites[i], true, new Sprites[i](Game, X[i], Y[i]));
        exportedMap.push(spawnItem);
    }
    return exportedMap;
}
