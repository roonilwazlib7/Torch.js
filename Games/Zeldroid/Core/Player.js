// Generated by CoffeeScript 1.12.1
(function() {
  var Player, PlayerBullet, idleState, moveState,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Player = (function(superClass) {
    extend(Player, superClass);

    Player.prototype.VELOCITY = 0.4;

    Player.prototype.stoppped = false;

    Player.prototype.touching = null;

    function Player(game) {
      var scale;
      this.InitSprite(game, 0, 0);
      this.Bind.Texture("player-right-idle");
      this.spriteSheetAnim = this.Animations.SpriteSheet(16, 16, 2);
      this.spriteSheetAnim.Stop();
      this.audioPlayer = this.game.Audio.CreateAudioPlayer();
      this.audioPlayer.volume = 0.25;
      this.movementStateMachine = this.States.CreateStateMachine("Movement");
      this.movementStateMachine.State("idle", idleState);
      this.movementStateMachine.State("move", moveState);
      this.movementStateMachine.Switch("idle");
      this.drawIndex = 11;
      this.facing = "forward";
      this.shootKeyWasDown = false;
      this.game.Camera.JerkFollow(this);
      this.game.Keys.Space.On("KeyUp", (function(_this) {
        return function() {
          var b;
          _this.audioPlayer.PlaySound("shoot");
          return b = new PlayerBullet(_this);
        };
      })(this));
      scale = this.game.GetScale();
      this.Size.Scale(scale, scale);
      this.SetUpCollisions();
    }

    Player.Load = function(game) {
      game.Load.Texture("Assets/Art/player/player-forward-idle.png", "player-forward-idle");
      game.Load.Texture("Assets/Art/player/player-backward-idle.png", "player-backward-idle");
      game.Load.Texture("Assets/Art/player/player-right-idle-sheet.png", "player-right-idle");
      game.Load.Texture("Assets/Art/player/player-left.png", "player-left-idle");
      game.Load.Texture("Assets/Art/player/bullet.png", "player-bullet");
      return game.Load.Texture("Assets/Art/player/shoot-particle.png", "shoot-particle");
    };

    Player.prototype.Update = function() {
      return Player.__super__.Update.call(this);
    };

    Player.prototype.SetUpCollisions = function() {
      this.Collisions.Monitor();
      return this.On("Collision", (function(_this) {
        return function(event) {
          return _this.HandleCollision(event);
        };
      })(this));
    };

    Player.prototype.HandleCollision = function(event) {
      if (!event.collisionData.collider.hardBlock) {
        return;
      }
      return this.Collisions.SimpleCollisionHandle(event, 0.5);
    };

    return Player;

  })(Torch.Sprite);

  idleState = {
    Execute: function(player) {
      if (this.game.Keys.W.down) {
        player.facing = "forward";
        return this.stateMachine.Switch("move", "W", {
          x: 0,
          y: -1
        });
      } else if (this.game.Keys.S.down) {
        player.facing = "backward";
        return this.stateMachine.Switch("move", "S", {
          x: 0,
          y: 1
        });
      } else if (this.game.Keys.D.down) {
        player.facing = "right";
        return this.stateMachine.Switch("move", "D", {
          x: 1,
          y: 0
        });
      } else if (this.game.Keys.A.down) {
        player.facing = "left";
        return this.stateMachine.Switch("move", "A", {
          x: -1,
          y: 0
        });
      }
    },
    Start: function(player) {
      player.Body.velocity.x = 0;
      return player.Body.velocity.y = 0;
    },
    End: function(player) {}
  };

  moveState = {
    Execute: function(player) {
      if (!this.game.Keys[this.triggerKey].down) {
        return this.stateMachine.Switch("idle");
      }
    },
    Start: function(player, key, velocity) {
      player.spriteSheetAnim.Start();
      player.Body.velocity.y = velocity.y * player.VELOCITY;
      player.Body.velocity.x = velocity.x * player.VELOCITY;
      this.triggerKey = key;
      switch (player.facing) {
        case "forward":
          player.Bind.Texture("player-forward-idle");
          return player.spriteSheetAnim.SyncFrame();
        case "backward":
          player.Bind.Texture("player-backward-idle");
          return player.spriteSheetAnim.SyncFrame();
        case "right":
          player.Bind.Texture("player-right-idle");
          return player.spriteSheetAnim.SyncFrame();
        case "left":
          player.Bind.Texture("player-left-idle");
          return player.spriteSheetAnim.SyncFrame();
      }
    },
    End: function(player) {
      player.spriteSheetAnim.Stop();
      return player.spriteSheetAnim.Index(0);
    }
  };

  PlayerBullet = (function(superClass) {
    extend(PlayerBullet, superClass);

    PlayerBullet.prototype.DAMAGE = 1;

    function PlayerBullet(shooter) {
      this.InitSprite(shooter.game, shooter.position.x, shooter.position.y);
      this.Bind.Texture("player-bullet");
      this.drawIndex = shooter.drawIndex + 1;
      this.VELOCITY = 1.5;
      switch (shooter.facing) {
        case "forward":
          this.Body.velocity.y = -1 * this.VELOCITY;
          this.position.y -= 0.3 * shooter.rectangle.height;
          this.position.x += 0.1 * shooter.rectangle.width;
          break;
        case "backward":
          this.Body.velocity.y = 1 * this.VELOCITY;
          this.position.x += 0.1 * shooter.rectangle.width;
          this.position.y += 0.3 * shooter.rectangle.height;
          break;
        case "right":
          this.Body.velocity.x = 1 * this.VELOCITY;
          this.position.x += 1.1 * shooter.rectangle.width;
          this.position.y += 0.25 * shooter.rectangle.height;
          this.rotation = Math.PI / 2;
          break;
        case "left":
          this.Body.velocity.x = -1 * this.VELOCITY;
          this.position.x -= 0.1 * shooter.rectangle.width;
          this.position.y += 0.25 * shooter.rectangle.height;
          this.rotation = Math.PI / 2;
      }
      this.Size.scale.width = this.Size.scale.height = 10;
      this.emitter = this.game.Particles.ParticleEmitter(500, 500, 500, true, "shoot-particle", {
        spread: 20,
        gravity: 0.0001,
        minAngle: 0,
        maxAngle: Math.PI * 2,
        minScale: 2,
        maxScale: 4,
        minVelocity: 0.01,
        maxVelocity: 0.01,
        minAlphaDecay: 200,
        maxAlphaDecay: 250,
        minOmega: 0.001,
        maxOmega: 0.001
      });
      this.emitter.auto = false;
      this.emitter.position = this.position.Clone();
      this.emitter.EmitParticles(true);
      this.Collisions.Monitor();
      this.On("Collision", (function(_this) {
        return function(event) {
          if (!event.collisionData.collider.hardBlock) {
            return;
          }
          event.collisionData.collider.hp -= _this.DAMAGE;
          _this.Trash();
          _this.emitter.particle = "particle";
          _this.emitter.position = _this.position.Clone();
          return _this.emitter.EmitParticles(true);
        };
      })(this));
    }

    PlayerBullet.prototype.Update = function() {
      return PlayerBullet.__super__.Update.call(this);
    };

    return PlayerBullet;

  })(Torch.Sprite);

  window.Player = Player;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVyLmpzIiwic291cmNlUm9vdCI6Ii4uXFwuLlxcLi4iLCJzb3VyY2VzIjpbIkdhbWVzXFxaZWxkcm9pZFxcU3JjXFxQbGF5ZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUFBLE1BQUEsMENBQUE7SUFBQTs7O0VBQU07OztxQkFDRixRQUFBLEdBQVU7O3FCQUNWLFFBQUEsR0FBVTs7cUJBQ1YsUUFBQSxHQUFVOztJQUNHLGdCQUFDLElBQUQ7QUFDVCxVQUFBO01BQUEsSUFBQyxDQUFBLFVBQUQsQ0FBWSxJQUFaLEVBQWtCLENBQWxCLEVBQXFCLENBQXJCO01BQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFOLENBQWMsbUJBQWQ7TUFDQSxJQUFDLENBQUEsZUFBRCxHQUFtQixJQUFDLENBQUEsVUFBVSxDQUFDLFdBQVosQ0FBd0IsRUFBeEIsRUFBNEIsRUFBNUIsRUFBZ0MsQ0FBaEM7TUFDbkIsSUFBQyxDQUFBLGVBQWUsQ0FBQyxJQUFqQixDQUFBO01BRUEsSUFBQyxDQUFBLFdBQUQsR0FBZSxJQUFDLENBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBWixDQUFBO01BQ2YsSUFBQyxDQUFBLFdBQVcsQ0FBQyxNQUFiLEdBQXNCO01BRXRCLElBQUMsQ0FBQSxvQkFBRCxHQUF3QixJQUFDLENBQUEsTUFBTSxDQUFDLGtCQUFSLENBQTJCLFVBQTNCO01BQ3hCLElBQUMsQ0FBQSxvQkFBb0IsQ0FBQyxLQUF0QixDQUE0QixNQUE1QixFQUFvQyxTQUFwQztNQUNBLElBQUMsQ0FBQSxvQkFBb0IsQ0FBQyxLQUF0QixDQUE0QixNQUE1QixFQUFvQyxTQUFwQztNQUNBLElBQUMsQ0FBQSxvQkFBb0IsQ0FBQyxNQUF0QixDQUE2QixNQUE3QjtNQUVBLElBQUMsQ0FBQSxTQUFELEdBQWE7TUFDYixJQUFDLENBQUEsTUFBRCxHQUFVO01BQ1YsSUFBQyxDQUFBLGVBQUQsR0FBbUI7TUFFbkIsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFNLENB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QUMsQ0FBQSxPQUFPLENBQUMsYUFBVCxDQUF1QixJQUF2QjtRQVBhO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFqQjtJQTlDUzs7MkJBd0RiLE1BQUEsR0FBUSxTQUFBO2FBQ0osdUNBQUE7SUFESTs7OztLQTFEZSxLQUFLLENBQUM7O0VBOERqQyxNQUFNLENBQUMsTUFBUCxHQUFnQjtBQXhLaEIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBUb3JjaC5TcHJpdGVcclxuICAgIFZFTE9DSVRZOiAwLjRcclxuICAgIHN0b3BwcGVkOiBmYWxzZVxyXG4gICAgdG91Y2hpbmc6IG51bGxcclxuICAgIGNvbnN0cnVjdG9yOiAoZ2FtZSkgLT5cclxuICAgICAgICBASW5pdFNwcml0ZShnYW1lLCAwLCAwKVxyXG4gICAgICAgIEBCaW5kLlRleHR1cmUoXCJwbGF5ZXItcmlnaHQtaWRsZVwiKVxyXG4gICAgICAgIEBzcHJpdGVTaGVldEFuaW0gPSBAQW5pbWF0aW9ucy5TcHJpdGVTaGVldCgxNiwgMTYsIDIpXHJcbiAgICAgICAgQHNwcml0ZVNoZWV0QW5pbS5TdG9wKClcclxuXHJcbiAgICAgICAgQGF1ZGlvUGxheWVyID0gQGdhbWUuQXVkaW8uQ3JlYXRlQXVkaW9QbGF5ZXIoKVxyXG4gICAgICAgIEBhdWRpb1BsYXllci52b2x1bWUgPSAwLjI1XHJcblxyXG4gICAgICAgIEBtb3ZlbWVudFN0YXRlTWFjaGluZSA9IEBTdGF0ZXMuQ3JlYXRlU3RhdGVNYWNoaW5lKFwiTW92ZW1lbnRcIilcclxuICAgICAgICBAbW92ZW1lbnRTdGF0ZU1hY2hpbmUuU3RhdGUoXCJpZGxlXCIsIGlkbGVTdGF0ZSlcclxuICAgICAgICBAbW92ZW1lbnRTdGF0ZU1hY2hpbmUuU3RhdGUoXCJtb3ZlXCIsIG1vdmVTdGF0ZSlcclxuICAgICAgICBAbW92ZW1lbnRTdGF0ZU1hY2hpbmUuU3dpdGNoKFwiaWRsZVwiKVxyXG5cclxuICAgICAgICBAZHJhd0luZGV4ID0gMTFcclxuICAgICAgICBAZmFjaW5nID0gXCJmb3J3YXJkXCJcclxuICAgICAgICBAc2hvb3RLZXlXYXNEb3duID0gZmFsc2VcclxuXHJcbiAgICAgICAgQGdhbWUuQ2FtZXJhLkplcmtGb2xsb3coQClcclxuXHJcbiAgICAgICAgQGdhbWUuS2V5cy5TcGFjZS5PbiBcIktleVVwXCIsID0+XHJcbiAgICAgICAgICAgIEBhdWRpb1BsYXllci5QbGF5U291bmQoXCJzaG9vdFwiKVxyXG4gICAgICAgICAgICBiID0gbmV3IFBsYXllckJ1bGxldChAKVxyXG5cclxuICAgICAgICBzY2FsZSA9IEBnYW1lLkdldFNjYWxlKClcclxuICAgICAgICBAU2l6ZS5TY2FsZShzY2FsZSwgc2NhbGUpXHJcblxyXG4gICAgICAgIEBTZXRVcENvbGxpc2lvbnMoKVxyXG5cclxuICAgIEBMb2FkOiAoZ2FtZSkgLT5cclxuICAgICAgICBnYW1lLkxvYWQuVGV4dHVyZShcIkFzc2V0cy9BcnQvcGxheWVyL3BsYXllci1mb3J3YXJkLWlkbGUucG5nXCIsIFwicGxheWVyLWZvcndhcmQtaWRsZVwiKVxyXG4gICAgICAgIGdhbWUuTG9hZC5UZXh0dXJlKFwiQXNzZXRzL0FydC9wbGF5ZXIvcGxheWVyLWJhY2t3YXJkLWlkbGUucG5nXCIsIFwicGxheWVyLWJhY2t3YXJkLWlkbGVcIilcclxuICAgICAgICBnYW1lLkxvYWQuVGV4dHVyZShcIkFzc2V0cy9BcnQvcGxheWVyL3BsYXllci1yaWdodC1pZGxlLXNoZWV0LnBuZ1wiLCBcInBsYXllci1yaWdodC1pZGxlXCIpXHJcbiAgICAgICAgZ2FtZS5Mb2FkLlRleHR1cmUoXCJBc3NldHMvQXJ0L3BsYXllci9wbGF5ZXItbGVmdC5wbmdcIiwgXCJwbGF5ZXItbGVmdC1pZGxlXCIpXHJcblxyXG4gICAgICAgIGdhbWUuTG9hZC5UZXh0dXJlKFwiQXNzZXRzL0FydC9wbGF5ZXIvYnVsbGV0LnBuZ1wiLCBcInBsYXllci1idWxsZXRcIilcclxuICAgICAgICBnYW1lLkxvYWQuVGV4dHVyZShcIkFzc2V0cy9BcnQvcGxheWVyL3Nob290LXBhcnRpY2xlLnBuZ1wiLCBcInNob290LXBhcnRpY2xlXCIpXHJcblxyXG4gICAgVXBkYXRlOiAtPlxyXG4gICAgICAgIHN1cGVyKClcclxuXHJcbiAgICBTZXRVcENvbGxpc2lvbnM6IC0+XHJcbiAgICAgICAgQENvbGxpc2lvbnMuTW9uaXRvcigpXHJcbiAgICAgICAgQE9uIFwiQ29sbGlzaW9uXCIsIChldmVudCkgPT5cclxuICAgICAgICAgICAgQEhhbmRsZUNvbGxpc2lvbihldmVudClcclxuXHJcbiAgICBIYW5kbGVDb2xsaXNpb246IChldmVudCkgLT5cclxuICAgICAgICByZXR1cm4gaWYgbm90IGV2ZW50LmNvbGxpc2lvbkRhdGEuY29sbGlkZXIuaGFyZEJsb2NrXHJcbiAgICAgICAgQENvbGxpc2lvbnMuU2ltcGxlQ29sbGlzaW9uSGFuZGxlKGV2ZW50LCAwLjUpXHJcblxyXG5cclxuaWRsZVN0YXRlID1cclxuICAgIEV4ZWN1dGU6IChwbGF5ZXIpIC0+XHJcbiAgICAgICAgaWYgQGdhbWUuS2V5cy5XLmRvd25cclxuICAgICAgICAgICAgcGxheWVyLmZhY2luZyA9IFwiZm9yd2FyZFwiXHJcbiAgICAgICAgICAgIEBzdGF0ZU1hY2hpbmUuU3dpdGNoKFwibW92ZVwiLCBcIldcIiwge3g6IDAsIHk6IC0xfSlcclxuICAgICAgICBlbHNlIGlmIEBnYW1lLktleXMuUy5kb3duXHJcbiAgICAgICAgICAgIHBsYXllci5mYWNpbmcgPSBcImJhY2t3YXJkXCJcclxuICAgICAgICAgICAgQHN0YXRlTWFjaGluZS5Td2l0Y2goXCJtb3ZlXCIsIFwiU1wiLCB7eDogMCwgeTogMX0pXHJcbiAgICAgICAgZWxzZSBpZiBAZ2FtZS5LZXlzLkQuZG93blxyXG4gICAgICAgICAgICBwbGF5ZXIuZmFjaW5nID0gXCJyaWdodFwiXHJcbiAgICAgICAgICAgIEBzdGF0ZU1hY2hpbmUuU3dpdGNoKFwibW92ZVwiLCBcIkRcIiwge3g6IDEsIHk6IDB9KVxyXG4gICAgICAgIGVsc2UgaWYgQGdhbWUuS2V5cy5BLmRvd25cclxuICAgICAgICAgICAgcGxheWVyLmZhY2luZyA9IFwibGVmdFwiXHJcbiAgICAgICAgICAgIEBzdGF0ZU1hY2hpbmUuU3dpdGNoKFwibW92ZVwiLCBcIkFcIiwge3g6IC0xLCB5OiAwfSlcclxuXHJcbiAgICBTdGFydDogKHBsYXllcikgLT5cclxuICAgICAgICBwbGF5ZXIuQm9keS52ZWxvY2l0eS54ID0gMFxyXG4gICAgICAgIHBsYXllci5Cb2R5LnZlbG9jaXR5LnkgPSAwXHJcblxyXG4gICAgRW5kOiAocGxheWVyKSAtPlxyXG4gICAgICAgICMgLi4uXHJcblxyXG5tb3ZlU3RhdGUgPVxyXG4gICAgRXhlY3V0ZTogKHBsYXllcikgLT5cclxuICAgICAgICBpZiBub3QgQGdhbWUuS2V5c1tAdHJpZ2dlcktleV0uZG93blxyXG4gICAgICAgICAgICBAc3RhdGVNYWNoaW5lLlN3aXRjaChcImlkbGVcIilcclxuXHJcbiAgICBTdGFydDogKHBsYXllciwga2V5LCB2ZWxvY2l0eSkgLT5cclxuICAgICAgICBwbGF5ZXIuc3ByaXRlU2hlZXRBbmltLlN0YXJ0KClcclxuICAgICAgICBwbGF5ZXIuQm9keS52ZWxvY2l0eS55ID0gdmVsb2NpdHkueSAqIHBsYXllci5WRUxPQ0lUWVxyXG4gICAgICAgIHBsYXllci5Cb2R5LnZlbG9jaXR5LnggPSB2ZWxvY2l0eS54ICogcGxheWVyLlZFTE9DSVRZXHJcbiAgICAgICAgQHRyaWdnZXJLZXkgPSBrZXlcclxuXHJcbiAgICAgICAgc3dpdGNoIHBsYXllci5mYWNpbmdcclxuICAgICAgICAgICAgd2hlbiBcImZvcndhcmRcIlxyXG4gICAgICAgICAgICAgICAgcGxheWVyLkJpbmQuVGV4dHVyZShcInBsYXllci1mb3J3YXJkLWlkbGVcIilcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGVTaGVldEFuaW0uU3luY0ZyYW1lKClcclxuICAgICAgICAgICAgd2hlbiBcImJhY2t3YXJkXCJcclxuICAgICAgICAgICAgICAgIHBsYXllci5CaW5kLlRleHR1cmUoXCJwbGF5ZXItYmFja3dhcmQtaWRsZVwiKVxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZVNoZWV0QW5pbS5TeW5jRnJhbWUoKVxyXG4gICAgICAgICAgICB3aGVuIFwicmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgcGxheWVyLkJpbmQuVGV4dHVyZShcInBsYXllci1yaWdodC1pZGxlXCIpXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlU2hlZXRBbmltLlN5bmNGcmFtZSgpXHJcbiAgICAgICAgICAgIHdoZW4gXCJsZWZ0XCJcclxuICAgICAgICAgICAgICAgIHBsYXllci5CaW5kLlRleHR1cmUoXCJwbGF5ZXItbGVmdC1pZGxlXCIpXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlU2hlZXRBbmltLlN5bmNGcmFtZSgpXHJcblxyXG4gICAgRW5kOiAocGxheWVyKSAtPlxyXG4gICAgICAgIHBsYXllci5zcHJpdGVTaGVldEFuaW0uU3RvcCgpXHJcbiAgICAgICAgcGxheWVyLnNwcml0ZVNoZWV0QW5pbS5JbmRleCgwKVxyXG5cclxuY2xhc3MgUGxheWVyQnVsbGV0IGV4dGVuZHMgVG9yY2guU3ByaXRlXHJcbiAgICBEQU1BR0U6IDFcclxuICAgIGNvbnN0cnVjdG9yOiAoc2hvb3RlcikgLT5cclxuICAgICAgICBASW5pdFNwcml0ZShzaG9vdGVyLmdhbWUsIHNob290ZXIucG9zaXRpb24ueCwgc2hvb3Rlci5wb3NpdGlvbi55KVxyXG4gICAgICAgIEBCaW5kLlRleHR1cmUoXCJwbGF5ZXItYnVsbGV0XCIpXHJcbiAgICAgICAgQGRyYXdJbmRleCA9IHNob290ZXIuZHJhd0luZGV4ICsgMVxyXG5cclxuICAgICAgICBAVkVMT0NJVFkgPSAxLjVcclxuICAgICAgICBzd2l0Y2ggc2hvb3Rlci5mYWNpbmdcclxuICAgICAgICAgICAgd2hlbiBcImZvcndhcmRcIlxyXG4gICAgICAgICAgICAgICAgQEJvZHkudmVsb2NpdHkueSA9IC0xICogQFZFTE9DSVRZXHJcbiAgICAgICAgICAgICAgICBAcG9zaXRpb24ueSAtPSAwLjMgKiBzaG9vdGVyLnJlY3RhbmdsZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgIEBwb3NpdGlvbi54ICs9IDAuMSAqIHNob290ZXIucmVjdGFuZ2xlLndpZHRoXHJcbiAgICAgICAgICAgIHdoZW4gXCJiYWNrd2FyZFwiXHJcbiAgICAgICAgICAgICAgICBAQm9keS52ZWxvY2l0eS55ID0gMSAqIEBWRUxPQ0lUWVxyXG4gICAgICAgICAgICAgICAgQHBvc2l0aW9uLnggKz0gMC4xICogc2hvb3Rlci5yZWN0YW5nbGUud2lkdGhcclxuICAgICAgICAgICAgICAgIEBwb3NpdGlvbi55ICs9IDAuMyAqIHNob290ZXIucmVjdGFuZ2xlLmhlaWdodFxyXG4gICAgICAgICAgICB3aGVuIFwicmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgQEJvZHkudmVsb2NpdHkueCA9IDEgKiBAVkVMT0NJVFlcclxuICAgICAgICAgICAgICAgIEBwb3NpdGlvbi54ICs9IDEuMSAqIHNob290ZXIucmVjdGFuZ2xlLndpZHRoXHJcbiAgICAgICAgICAgICAgICBAcG9zaXRpb24ueSArPSAwLjI1ICogc2hvb3Rlci5yZWN0YW5nbGUuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICBAcm90YXRpb24gPSBNYXRoLlBJLzJcclxuICAgICAgICAgICAgd2hlbiBcImxlZnRcIlxyXG4gICAgICAgICAgICAgICAgQEJvZHkudmVsb2NpdHkueCA9IC0xICogQFZFTE9DSVRZXHJcbiAgICAgICAgICAgICAgICBAcG9zaXRpb24ueCAtPSAwLjEgKiBzaG9vdGVyLnJlY3RhbmdsZS53aWR0aFxyXG4gICAgICAgICAgICAgICAgQHBvc2l0aW9uLnkgKz0gMC4yNSAqIHNob290ZXIucmVjdGFuZ2xlLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgQHJvdGF0aW9uID0gTWF0aC5QSS8yXHJcblxyXG4gICAgICAgIEBTaXplLnNjYWxlLndpZHRoID0gQFNpemUuc2NhbGUuaGVpZ2h0ID0gMTBcclxuXHJcbiAgICAgICAgQGVtaXR0ZXIgPSBAZ2FtZS5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyIDUwMCwgNTAwLCA1MDAsIHRydWUsIFwic2hvb3QtcGFydGljbGVcIixcclxuICAgICAgICAgICAgc3ByZWFkOiAyMFxyXG4gICAgICAgICAgICBncmF2aXR5OiAwLjAwMDFcclxuICAgICAgICAgICAgbWluQW5nbGU6IDBcclxuICAgICAgICAgICAgbWF4QW5nbGU6IE1hdGguUEkgKiAyXHJcbiAgICAgICAgICAgIG1pblNjYWxlOiAyXHJcbiAgICAgICAgICAgIG1heFNjYWxlOiA0XHJcbiAgICAgICAgICAgIG1pblZlbG9jaXR5OiAwLjAxXHJcbiAgICAgICAgICAgIG1heFZlbG9jaXR5OiAwLjAxXHJcbiAgICAgICAgICAgIG1pbkFscGhhRGVjYXk6IDIwMFxyXG4gICAgICAgICAgICBtYXhBbHBoYURlY2F5OiAyNTBcclxuICAgICAgICAgICAgbWluT21lZ2E6IDAuMDAxXHJcbiAgICAgICAgICAgIG1heE9tZWdhOiAwLjAwMVxyXG4gICAgICAgIEBlbWl0dGVyLmF1dG8gPSBmYWxzZVxyXG4gICAgICAgIEBlbWl0dGVyLnBvc2l0aW9uID0gQHBvc2l0aW9uLkNsb25lKClcclxuICAgICAgICBAZW1pdHRlci5FbWl0UGFydGljbGVzKHRydWUpXHJcblxyXG4gICAgICAgIEBDb2xsaXNpb25zLk1vbml0b3IoKVxyXG4gICAgICAgIEBPbiBcIkNvbGxpc2lvblwiLCAoZXZlbnQpID0+XHJcbiAgICAgICAgICAgIHJldHVybiBpZiBub3QgZXZlbnQuY29sbGlzaW9uRGF0YS5jb2xsaWRlci5oYXJkQmxvY2tcclxuICAgICAgICAgICAgZXZlbnQuY29sbGlzaW9uRGF0YS5jb2xsaWRlci5ocCAtPSBAREFNQUdFXHJcbiAgICAgICAgICAgIEBUcmFzaCgpXHJcblxyXG4gICAgICAgICAgICBAZW1pdHRlci5wYXJ0aWNsZSA9IFwicGFydGljbGVcIlxyXG4gICAgICAgICAgICBAZW1pdHRlci5wb3NpdGlvbiA9IEBwb3NpdGlvbi5DbG9uZSgpXHJcbiAgICAgICAgICAgIEBlbWl0dGVyLkVtaXRQYXJ0aWNsZXModHJ1ZSlcclxuXHJcblxyXG4gICAgVXBkYXRlOiAtPlxyXG4gICAgICAgIHN1cGVyKClcclxuXHJcblxyXG53aW5kb3cuUGxheWVyID0gUGxheWVyXHJcbiJdfQ==
//# sourceURL=C:\dev\js\Torch.js\Games\Zeldroid\Src\Player.coffee